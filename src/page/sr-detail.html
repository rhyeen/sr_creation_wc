<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../shared-styles.html">

<dom-module id="sr-detail">
  <template>
    <style include="shared-styles">
      
    </style>
    <paper-card>
      <app-toolbar>
        <div main-title>Traveling through the market</div>
        <paper-icon-button icon="sr-icons:expand-more" on-tap="toggleExpand" target-summary="detailSummary1"></paper-icon-button>
        <paper-menu-button dynamic-align="true">
          <paper-icon-button icon="sr-icons:more-vert" slot="dropdown-trigger"></paper-icon-button>
          <paper-listbox slot="dropdown-content">
            <paper-icon-item name="page">
              <iron-icon icon="sr-icons:edit" slot="item-icon"></iron-icon>
              Edit Detail
            </paper-icon-item>
          </paper-listbox>
        </paper-menu-button>
      </app-toolbar>
      <div class="card-content">
        <iron-collapse id="detailSummary1" class="summary">You've been invited to participate in Lord Tayspire's festival at Fellpines!  Rumor has spread that the wealthy Lord is sinking a small fortune into the party and any and all are invited to attend.  Although you are keen to start your adventuring, you decide to take this opportunity to rest and enjoy the festivities.  You may even be able to find some exotic equipment or seek out a traveling noble or merchant in need of some mercenary work.Upon entering the town of Fellpines, a small and presumably typically quite town now filled with hustle, laughter, and foreign travelers.  Merchants with caravans and small unfolded shops are bunched together against the street's edge, and a crowd of people all crammed together wander with the flow of troubled water from one stall to the next.</iron-collapse>
      </div>
    </paper-card>
  </template>
  <script>
    class SrDetail extends Polymer.Element {
      static get is() { return 'sr-detail'; }

      static get properties() {
        return {
          properties: {
            notify: true,
            readOnly: false,
          }
        };
      }

      toggleExpand() {
        var iconButton = Polymer.dom(event).localTarget;
        var summaryId = iconButton.getAttribute('target-summary');
        debugger;
        if (this.$[summaryId].opened) {
          iconButton.icon = 'sr-icons:expand-more';
        } else {
          iconButton.icon = 'sr-icons:expand-less';
        }
        this.$[summaryId].toggle();
      }
    }

    window.customElements.define(SrDetail.is, SrDetail);
  </script>
</dom-module>
